@model IEnumerable<DnD___Campaign_Dashboard_v._1.Models.SpellModelsApi.SpellModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Spells</h2>


<table id="spells" class="table table-bordered table-hover">
    <thead>
        <tr>
            
            <th>Spell</th>
            <th></th>

        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

@section scripts
    {
    <script type="text/javascript">
        $(document).ready(function () {
            $.ajax({
                url: 'https://www.dnd5eapi.co/api/spells',
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    bindtoDatatable(data.results);
                }
            });
        });
        function bindtoDatatable(data) {
            var table = $('#spells').dataTable({
                "bAutoWidth": true,
                "aaData": data,
                "columns": [
                    
                    {
                        "data": "name"
                    },
                    {
                        "data": "index",
                        render: function (data) {
                            //return "<button class='btn-link js-delete' data-customer-id=" + data + ">Details</button>";
                            return "<a href='../Spells/Details/" + data + "'>Details</a>"
                        }
                    }
                ]
            });
        }
    </script>
}

