@{ ViewBag.Title = "Spells";
    Layout = "~/Views/Shared/_Layout.cshtml"; }

<h2>Spells</h2>
<table id="spells" class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Spell</th>
            <th>Casting Time</th>
            <th>Damage Type</th>
        </tr>
    </thead>
    <tbody>
        
    </tbody>
</table>


@section scripts
{
    <script>
        $(document).ready(function () {
            var table = $("#spells").DataTable({
                ajax: {
                    url: "/api/spellsapi",
                    dataSrc: ""
                },
                columns: [
                    {
                        data: "name",
                    },
<<<<<<< Updated upstream
                    {
                        data: "castingTime"
                    },
                    {
                        data: "level",
                    }
                ]
            });
        });
    </script>
}}
                            data: "name",
                        },
                        {
                            data: "castingTime"
                        },
                        {
                            data: "level",
                        }
                    ]
                });
            });
        </script>
    }*@


@model IEnumerable<ApiLibrary.SpellModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Spells</h2>


<table id="spells" class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Spell</th>
            <th>Url</th>

        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

@section scripts
    {
        <script type="text/javascript">
            $(document).ready(function () {

                $.ajax({
                    url: 'https://www.dnd5eapi.co/api/spells',
                    type: 'GET',
                    dataType: 'json',
                    success: function (data) {
                        bindtoDatatable(data.results);
                    }
                });
            });

            function bindtoDatatable(data) {
                var table = $('#spells').dataTable({
                    "bAutoWidth": true,
                    "aaData": data,
                    "columns": [
                        {
                            "data": "name"
                        },
                        {
                            "data": "url",
                            
                        }
                    ]
                });

            }
        </script>
    }
>>>>>>> Stashed changes
